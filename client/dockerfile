FROM node:18-alpine

ARG VITE_SERVER_URL

ENV VITE_SERVER_URL=${VITE_SERVER_URL}

WORKDIR /client
COPY package.json .
RUN npm install --legacy-peer-deps
COPY . .
EXPOSE 80
CMD ["npm", "run", "dev"]