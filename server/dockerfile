FROM node:18-alpine 

ARG test
ARG DATABASE_HOSTNAME
ARG DATABASE_NAME
ARG DATABASE_PASSWORD
ARG DATABASE_USERNAME

ENV test=${test}
ENV DATABASE_HOSTNAME=${DATABASE_HOSTNAME}
ENV DATABASE_NAME=${DATABASE_NAME}
ENV DATABASE_PASSWORD=${DATABASE_PASSWORD}
ENV DATABASE_USERNAME=${DATABASE_USERNAME}

WORKDIR /server
COPY package.json .
RUN npm install
COPY . .
EXPOSE 3000
CMD ["npm", "run", "dev"]