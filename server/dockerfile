FROM node:18-alpine 

ARG test
ARG DATABASE_HOSTNAME
ARG DATABASE_NAME
ARG DATABASE_PASSWORD
ARG DATABASE_USERNAME

ENV test=${test}
ENV DATABASE_HOSTNAME_PROD=${DATABASE_HOSTNAME_PROD}
ENV DATABASE_NAME_PROD=${DATABASE_NAME_PROD}
ENV DATABASE_PASSWORD_PROD=${DATABASE_PASSWORD_PROD}
ENV DATABASE_USERNAME_PROD=${DATABASE_USERNAME_PROD}

WORKDIR /server
COPY package.json .
RUN npm install
COPY . .
EXPOSE 3000
CMD ["npm", "run", "dev"]